<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
</head>
<body>
    <div class="admin-container">
        <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div class="login-screen" id="login-screen">
            <div class="login-box">
                <h1>–í—Ö–æ–¥ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤</h1>
                <form id="login-form">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label>–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <button type="submit" class="btn-primary">–í–æ–π—Ç–∏</button>
                    <div class="error-message" id="login-error"></div>
                </form>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
        <div class="main-screen" id="main-screen" style="display: none;">
            <!-- –®–∞–ø–∫–∞ -->
            <header class="admin-header">
                <div class="header-left">
                    <h1>–ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞</h1>
                    <div class="manager-info">
                        <span id="manager-name">–ú–µ–Ω–µ–¥–∂–µ—Ä</span>
                        <span class="status-badge online" id="status-badge">–û–Ω–ª–∞–π–Ω</span>
                    </div>
                </div>
                <div class="header-right">
                    <button class="btn-secondary" id="logout-btn">–í—ã–π—Ç–∏</button>
                </div>
            </header>

            <div class="admin-content">
                <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –æ—á–µ—Ä–µ–¥—å—é -->
                <aside class="queue-sidebar">
                    <h2>–û—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤</h2>
                    <div class="queue-stats">
                        <div class="stat-item">
                            <span class="stat-label">–û–∂–∏–¥–∞—é—Ç:</span>
                            <span class="stat-value" id="waiting-count">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–û–Ω–ª–∞–π–Ω –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤:</span>
                            <span class="stat-value" id="managers-count">0</span>
                        </div>
                    </div>
                    <div class="queue-list" id="queue-list">
                        <div class="empty-queue">–ù–µ—Ç –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</div>
                    </div>
                </aside>

                <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
                <main class="chat-area">
                    <div class="no-session" id="no-session">
                        <div class="no-session-icon">üí¨</div>
                        <div class="no-session-text">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Å—Å–∏—é –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è</div>
                    </div>

                    <div class="active-session" id="active-session" style="display: none;">
                        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ—Å—Å–∏–∏ -->
                        <div class="session-header">
                            <div class="session-info">
                                <div class="session-user">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <span id="session-user-id"></span></div>
                                <div class="session-site">–°–∞–π—Ç: <span id="session-site"></span></div>
                            </div>
                            <div class="session-actions">
                                <button class="btn-icon" id="audio-call-btn" title="–ê—É–¥–∏–æ–∑–≤–æ–Ω–æ–∫">üìû</button>
                                <button class="btn-icon" id="video-call-btn" title="–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫">üìπ</button>
                                <button class="btn-icon" id="end-session-btn" title="–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é">‚úï</button>
                            </div>
                        </div>

                        <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                        <div class="session-messages" id="session-messages"></div>

                        <!-- –í–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è -->
                        <div class="session-input-area">
                            <textarea 
                                id="session-input" 
                                placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                                rows="1"></textarea>
                            <button class="btn-send" id="session-send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                </main>

            <!-- –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ -->
            <section class="settings-panel">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ –∏ –∫–æ–¥ –≤—Å—Ç–∞–≤–∫–∏</h2>
                <div class="settings-grid">
                    <div class="settings-group">
                        <label for="cfg-widget-origin">Widget Origin (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)</label>
                        <input id="cfg-widget-origin" type="text" placeholder="https://your-domain.com" />
                        <small>–ì–¥–µ –ª–µ–∂–∞—Ç styles.css, script.js, demo.mp4, sphere.svg</small>
                    </div>
                    <div class="settings-group">
                        <label for="cfg-api-url">API URL</label>
                        <input id="cfg-api-url" type="text" placeholder="https://api.your-domain.com" />
                        <small>–ë—ç–∫–µ–Ω–¥: /chat, /voice/save, /site/init</small>
                    </div>
                    <div class="settings-group">
                        <label for="cfg-ws-url">WebSocket URL</label>
                        <input id="cfg-ws-url" type="text" placeholder="wss://api.your-domain.com" />
                        <small>WS namespaces: /chat –∏ /call</small>
                    </div>
                    <div class="settings-group">
                        <label for="cfg-video-url">–í–∏–¥–µ–æ –ø—Ä–µ–≤—å—é (mp4)</label>
                        <input id="cfg-video-url" type="text" placeholder="https://your-domain.com/demo.mp4" />
                        <small>–ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî –≤–æ–∑—å–º—ë—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é /demo.mp4</small>
                    </div>
                </div>

                <div class="embed-actions">
                    <button class="btn-secondary" id="generate-embed-btn">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
                    <button class="btn-primary" id="copy-embed-btn">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</button>
                </div>

                <div class="embed-preview">
                    <pre id="embed-code" class="code-block"></pre>
                </div>
            </section>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∞ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤–∏–¥–∂–µ—Ç—É) -->
        <div class="video-call-modal" id="video-call-modal" style="display: none;">
            <div class="video-call-container">
                <div class="video-call-header">
                    <div class="call-status" id="call-status">–ó–≤–æ–Ω–æ–∫...</div>
                    <button class="call-close-btn" id="call-close-btn">√ó</button>
                </div>
                <div class="video-call-content">
                    <div class="remote-video-container">
                        <video id="remote-video" autoplay playsinline></video>
                        <div class="video-placeholder">–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...</div>
                    </div>
                    <div class="local-video-container">
                        <video id="local-video" autoplay playsinline muted></video>
                        <button class="video-toggle-btn" data-type="video" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É">üìπ</button>
                        <button class="video-toggle-btn" data-type="audio" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω">üé§</button>
                    </div>
                </div>
                <div class="video-call-controls">
                    <button class="call-end-btn" id="call-end-btn">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫</button>
                </div>
            </div>
        </div>
    </div>
    <script src="admin.js"></script>
</body>
</html>

